# Lora_RAK3172
This work was part of my mandatory internship at TÜBİTAK. I conducted tests to enable communication between two devices using the RAK3172 module and worked to ensure their compatibility with the BORAN project.

The user manual for the RAK3172, planned to be used in the project, was reviewed, and information was gathered on the setup, configuration, and usage of the RAK3172 LoRa modules. First, the pins and their functions for the RAK3172 were examined, followed by a review of the user manual for the RAK3272S. The RAK3272S is a breakout board that provides LoRaWAN connectivity using the RAK3172 module.

The recommended software development platform for using the LoRa module, Arduino IDE, was installed on my personal computer. Following the steps in the user manual, Arduino IDE was configured to include the RAK3172 in the board selection.

The Spreading Factor (SF) is a parameter used in low-power wide-area networks (LPWANs) like LoRaWAN. It is used to balance data transmission rate and range. In particular, in the LoRa (Long Range) communication protocol, the spreading factor is a crucial parameter for determining communication range and reliability. The higher the spreading factor, the longer the communication range, but the lower the data rate. A spreading factor of 7 is the lowest, while 12 is the highest.

In LoRaWAN, the Spreading Factor (SF) along with the Preamble Length is also an important parameter. The Preamble Length is a sequence of bits sent before the data transmission begins. The Preamble Length refers to the length of the preamble section used to initiate communication in a communication protocol, especially in wireless communication. The preamble contains a series of bits or symbols that indicate the start of the data packet. This preamble allows the receiving device to detect the beginning of the transmission and process the data packet correctly. The code expression bw = 0 indicates that a 125 kHz bandwidth will be used in LoRaWAN communication. This is the default bandwidth in LoRaWAN. LoRaWAN modules are typically set to 125 kHz bandwidth by default.

The Coding Rate is a parameter used in wireless communication protocols like LoRaWAN. It determines how much of the data is protected by error correction codes. Error correction codes are added before data is sent, helping to correct errors that may occur during transmission. The code expression cr = 0 corresponds to a value of 4/5 according to the module’s user manual. A Coding Rate of 4/5 means that for every 5 bits of data, 4 bits of error correction code are added.

The txPower variable indicates the transmission power of the LoRa device. In LoRa communication, the transmission power of the sender has a significant impact on communication range. Higher transmission power can reach farther distances but consumes more power. Therefore, an appropriate transmission power level should be selected based on application requirements. The value of the txPower variable is specified in dBm. The code expression txPower = 22 represents a transmission power of 22 dBm.

Based on the reviewed LoRa_P2P example, the goal was to configure one of the modules as a receiver and the other as a transmitter by making some minor changes to the example. This was done to enable communication and test the modules. Initially, simple code was prepared and uploaded to the modules, and it was observed that communication was successfully established.Based on the reviewed LoRa_P2P example, the goal was to configure one of the modules as a receiver and the other as a transmitter by making some minor changes to the example. This was done to enable communication and test the modules. Initially, simple code was prepared and uploaded to the modules, and it was observed that communication was successfully established.

To enable communication between the two modules, different codes were prepared for the receiver and the transmitter and uploaded to the modules using a USB to UART TTL adapter. The code uploaded to the module set to act as the transmitter sends a 'Hello World' message every 3 seconds. The module was configured to perform both receiver and transmitter tasks in sequence. It was assumed that the modules used in the project would perform both functions in the same manner. After uploading the code to the module set as the transmitter, power was supplied using an Arduino UNO board. For the module to be used as the receiver, a special value of 65534 was used in the PRECV setting to ensure that the module remained in continuous listening mode.

After testing within the office, it was desired to test the modules outside. For this purpose, the modules were positioned within the TÜBİTAK Gebze Campus to have a distance of approximately 2 km between the receiver and transmitter. Due to numerous obstacles between the two modules, communication could not be established. However, when the two modules were brought closer together in open air, communication was successfully achieved.

Based on test measurements taken at different distances, the results for RSSI and SNR values have been obtained.RSSI (Received Signal Strength Indicator) is a relative measurement that helps determine whether the received signal is strong enough to maintain a good wireless connection from the transmitter. Since LoRaWAN supports bidirectional communication, RSSI is an important measurement for both gateways and end devices. RSSI is measured in dBm and is expressed in a negative value. SNR (Signal-to-Noise Ratio) is the ratio of the received signal power to the noise floor. SNR can be calculated using the following formula and is usually expressed in decibels (dB). If RSSI is above the noise floor, the receiver can easily demodulate the signal. A positive SNR means the signal power is greater than the noise power, which means the receiver will be able to demodulate the signal. If RSSI is below the noise floor, demodulating the signal may not be possible. However, LoRa technology can demodulate signals even below the noise floor.


